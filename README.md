# Регистрация и авторизация на PHP

### Конфигурация

Необходимо создать .env файл рядом с env.example

В конфигурационном файле `.env` вы можете настроить подключение к базе данных.

- `DB_HOST` - хост, по которому доступна база данных (прописывать свой хост не нужно, используется localhost, в докере 'mysql-db')
- `DB_PORT` - порт базы данных ('3311')
- `DB_DATABASE` - название базы данных 
- `DB_USERNAME` - логин пользователя с правами на создание DB для управления базой
- `DB_PASSWORD` - пароль

### Запуск

Также для текущего проекта подготовлена готовая [Docker](https://www.docker.com/) инфраструктура, которая позволит легко запустить приложение. 
Достаточно выполнить команду:

```shell
docker-compose up --build 
``` 
- http://localhost:8080 - сайт
- localhost:`DB_PORT` - база данных

### База данных

В текущем проекте уже существует готовый SQL для создания таблиц и небольшого кол-ва данных к ним. 
При разворачивании проекта с помощью докер автоматически создается база данных с именем, указанным в `.env` файле, однако в случае необходимости можно посредством команды:
```shell
php src/db/run_migration.php create_db
``` 
создать новую базу данных, указанную в `DB_DATABASE`

Для того чтобы импортировать некоторые демонстрационные данные можно воспользоваться командой:
```shell
php src/db/run_migration.php parce_demo.sql
``` 

### Пользование

Правами администратора обладает преподователь. возможности администратора получает тот пользователь, который имеет в колонке `admin` значение `1`. Данные привелегии можно получить через администрирование базы данныз, например через субд mysql.

По-умолчанию для демонстрации можно использовать преднастроенную учетную запись с учетными данными:

Учетная запись преподавателя:
- `username` - sobnaka@mail.ru
- `password` - 123

Учетная запись Пользователя:
- `username` - sss@sss.ru
- `password` - 123
